situation_redrising_decadence = {
	picture = GFX_evt_friendly_infiltration
	category = neutral
	complete_icon_frame = GFX_situation_outcome_frame_red
	complete_icon = GFX_situation_outcome_meh
	start_value = 25
	
	on_progress_complete = {
		
	}

	stages = {
		stage_0 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_red
			end = 10
		}
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_red
			modifier = {
				pop_category_rulers_consumer_goods_upkeep_mult = 0.1
				pop_cat_ruler_happiness = 0.04
				planet_stability_add = -2
			}
			end = 20
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 0.2
				pop_cat_ruler_happiness = 0.08
				planet_stability_add = -4
			}
			end = 30
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 0.3
				pop_cat_ruler_happiness = 0.12
				planet_stability_add = -6
			}
			end = 40
		}
		stage_4 = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 0.4
				pop_cat_ruler_happiness = 0.16
				planet_stability_add = -8
			}
			end = 50
		}
		stage_5 = {
			icon = GFX_situation_stage_5
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 0.5
				pop_cat_ruler_happiness = 0.20
				planet_stability_add = -10
			}
			end = 60
		}
		stage_6 = {
			icon = GFX_situation_stage_6
			icon_background = GFX_situation_stage_frame_red
			modifier = {
				pop_category_rulers_consumer_goods_upkeep_mult = 0.6
				pop_cat_ruler_happiness = 0.24
				planet_stability_add = -12
			}
			end = 75
		}
		stage_7 = {
			icon = GFX_situation_stage_7
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 0.8
				pop_cat_ruler_happiness = 0.32
				planet_stability_add = -16
			}
			end = 90
		}
		stage_8 = {
			icon = GFX_situation_stage_8
			icon_background = GFX_situation_stage_frame_red
			modifier = { 
				pop_category_rulers_consumer_goods_upkeep_mult = 1
				pop_cat_ruler_happiness = 0.4
				planet_stability_add = -20
			}
			end = 100
		}
	}
	
	monthly_progress = {
		base = 0.1
		modifier = {
			desc = redrising_institute_pscarred_built_desc
			add = -0.05
			has_country_flag = redrising_institute_pscarred_built
		}
		modifier = {
			desc = redrising_discovery_reduces_decadence_set_desc
			add = -0.05
			has_modifier = redrising_discovery_reduces_decadence
		}
		modifier = {
			desc = redrising_board_pink_deployed_desc
			add = 0.1
			has_modifier = redrising_board_pink_deployed
		}
		modifier = {
			desc = redrising_board_white_deployed_desc
			add = -0.05
			has_modifier = redrising_board_white_deployed
		}
		modifier = {
			desc = redrising_board_control_chain_complete_desc
			add = 0.05
			has_country_flag = redrising_board_control_chain_complete
		}
		modifier = {
			desc = redrising_approach_indulge_the_pixies_desc
			add = 0.2
			current_situation_approach = approach_redrising_decadence_indulge_the_pixies
		}
		
		modifier = {
			desc = redrising_approach_promote_iron_gold_desc
			add = -0.2
			current_situation_approach = approach_redrising_decadence_promote_iron_gold
		}
	}

	abort_trigger = {
		owner = {
			NOT = {
				has_valid_civic = civic_redrising_noble_lie
			}
		}
	}

	approach = {
		name = approach_redrising_decadence_indulge_the_pixies
		icon = GFX_situation_approach_amenities
		icon_background = GFX_situation_approach_bg_green
		triggered_target_modifier = {
			
		}
		resources = {
			category = situations
			upkeep = {
				trigger = {
					owner = { is_gestalt = no }
				}
				consumer_goods = 20
			}
		}
		ai_weight = {
			base = 1
			modifier = {
				factor = 3
				owner = {
					resource_income_compare = {
						resource = consumer_goods
						value >= 20
					}
				}
			}
		}
	}

	approach = {
		name = approach_redrising_decadence_do_nothing
		icon = GFX_situation_approach_this_is_fine
		icon_background = GFX_situation_approach_bg_yellow
		triggered_target_modifier = {
			
		}

		ai_weight = {
			base = 1.5
		}
	}

	approach = {
		name = approach_redrising_decadence_promote_iron_gold
		icon = GFX_situation_approach_fist
		icon_background = GFX_situation_approach_bg_red
		triggered_target_modifier = {
			pop_citizen_happiness = -0.1
		}
		ai_weight = {
			base = 1
			modifier = {
				factor = 2
				OR = {
					situation_progress >= 80
				}
			}
		}
	}
}

situation_redrising_the_rising = {
	picture = GFX_evt_burning_city
	start_value = 25
	complete_icon_frame = GFX_situation_outcome_frame_red
	complete_icon = GFX_situation_outcome_revolt
	
	on_progress_complete = {
		
	}

	stages = {
		prelude = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_red
			target_modifier = { 
				planet_stability_add = -1
			}
			end = 20
		}
		simmering = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_red
			target_modifier = { 
				planet_stability_add = -3
			}
			end = 80
		}
		crisis = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_red
			on_first_enter = {
				#phobos address
				situation_event = { id = redrising.35 }
			}
			end = 90
		}
		open_war = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_red
			target_modifier = { 
				pop_government_ethic_attraction = -0.25
				planet_stability_add = -10
			}
			on_first_enter = {
				#the rising
				situation_event = { id = redrising.36 }
			}
			end = 100
		}
	}

	monthly_progress = {
		base = 1
		modifier = {
			desc = redrising_phobos_address_happened
			add = 10
			current_stage = crisis
		}
		modifier = {
			desc = redrising_secret_red_happened
			add = 2
			has_modifier = redrising_secret_red
		}
		modifier = {
			desc = approach_redrising_the_rising_crackdowns_desc
			add = -0.5
			current_situation_approach = approach_redrising_the_rising_crackdowns
		}
		modifier = {
			desc = approach_redrising_the_rising_infiltrate_desc
			add = -0.25
			current_situation_approach = approach_redrising_the_rising_infiltrate
		}
	}

	approach = {
		name = approach_redrising_the_rising_crackdowns
		icon = GFX_situation_approach_fist
		icon_background = GFX_situation_approach_bg_red
		triggered_target_modifier = {
			pop_citizen_happiness = -0.10
		}
		ai_weight = {
			base = 1
			modifier = {
				factor = 3
				OR = {
					situation_progress >= 50
				}
			}
		}
	}

	approach = {
		name = approach_redrising_the_rising_infiltrate
		icon = GFX_situation_approach_suspicious
		icon_background = GFX_situation_approach_bg_yellow
		triggered_target_modifier = {
			envoys_add = -1
		}
		ai_weight = {
			base = 1
			modifier = {
				factor = 2
				AND = {
					situation_progress >= 50
				}
			}
		}
	}

	approach = {
		name = approach_redrising_the_rising_do_nothing
		icon = GFX_situation_approach_this_is_fine
		icon_background = GFX_situation_approach_bg_green
		default = yes
		ai_weight = {
			base = 1.5
			modifier = {
				factor = 2
				OR = {
					situation_progress < 20
				}
			}
		}
	}

	abort_trigger = {
		owner = {
			OR = {
				NOT = {
					has_valid_civic = civic_redrising_noble_lie
				}
				#has won war with republic
				has_country_flag = redrising_beat_republic
			}
		}
	}
}